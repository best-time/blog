{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[203],{741:function(t,s,a){\"use strict\";a.r(s);var e=a(12),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[a(\"h3\",{attrs:{id:\"carousel-走马灯-组件\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#carousel-走马灯-组件\"}},[t._v(\"#\")]),t._v(\" Carousel(走马灯) 组件\")]),t._v(\" \"),a(\"p\",[t._v(\"事件是交给原生事件还是交由 React 的合成事件呢? 在最初的实现中参考 \"),a(\"a\",{attrs:{href:\"https://github.com/voronianski/react-swipe/blob/gh-pages/src/index.js\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"react-swipe\"),a(\"OutboundLink\")],1),t._v(\" 相当于是自己封装原生事件。\")]),t._v(\" \"),a(\"p\",[t._v(\"但是在 React 的生态下，还是尽量用 \"),a(\"code\",[t._v(\"React\")]),t._v(\" 封装的合成事件更为妥当。举几个原因:\")]),t._v(\" \"),a(\"ol\",[a(\"li\",[t._v(\"兼容性方面的东西不用自己维护了;\")]),t._v(\" \"),a(\"li\",[t._v(\"测试用例用 \"),a(\"code\",[t._v(\".simulate\")]),t._v(\" 的时候能统一;\")])]),t._v(\" \"),a(\"blockquote\",[a(\"p\",[t._v(\"原生事件和 React 合成事件类似鱼和熊掌不可兼得。\")])]),t._v(\" \"),a(\"h3\",{attrs:{id:\"前置知识\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#前置知识\"}},[t._v(\"#\")]),t._v(\" 前置知识\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"touchStart\")]),t._v(\" \"),a(\"li\",[t._v(\"touchMove\")]),t._v(\" \"),a(\"li\",[t._v(\"touchEnd\")]),t._v(\" \"),a(\"li\",[t._v(\"transitionend\")])]),t._v(\" \"),a(\"blockquote\",[a(\"p\",[t._v(\"e.touches[0].pageX, cdn 讲了其包含水平滚动的位置\")])]),t._v(\" \"),a(\"h3\",{attrs:{id:\"核心思路\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#核心思路\"}},[t._v(\"#\")]),t._v(\" 核心思路\")]),t._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/8151b27a39eb385305185d0a67736011.jpg-400\",alt:\"\"}})]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"比如当前位于第 3 张图片位于中央的时候, 第 1、2 张图片位于左侧的 \"),a(\"code\",[t._v(\"rest\")]),t._v(\", 第 4、5 张图片位于右侧的 \"),a(\"code\",[t._v(\"rest\")]),t._v(\";\")])]),t._v(\" \"),a(\"p\",[t._v(\"初始化阶段对任何窗口执行以下算法:\")]),t._v(\" \"),a(\"ol\",[a(\"li\",[a(\"code\",[t._v(\"向左平移当前窗口数 * width\")])]),t._v(\" \"),a(\"li\",[t._v(\"给除了当前展示页加上/减去 \"),a(\"code\",[t._v(\"width\")])])]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"每次只操作当前的 \"),a(\"code\",[t._v(\"index\")]),t._v(\", 和其左右的元素 \"),a(\"code\",[t._v(\"index - 1\")]),t._v(\"、\"),a(\"code\",[t._v(\"index + 1\")]),t._v(\";\")]),t._v(\" \"),a(\"li\",[t._v(\"自动滑动用的是 css 中的 \"),a(\"code\",[t._v(\"transitionDuration\")]),t._v(\" 属性以及 \"),a(\"code\",[t._v(\"transform\")]),t._v(\" 属性来完成\")])]),t._v(\" \"),a(\"h3\",{attrs:{id:\"理解易错点\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#理解易错点\"}},[t._v(\"#\")]),t._v(\" 理解易错点\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[t._v(\"delta \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  x\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" touches\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"pageX \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"-\")]),t._v(\" start\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"x\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n  y\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" touches\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"pageY \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"-\")]),t._v(\" start\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"y\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])]),a(\"ul\",[a(\"li\",[t._v(\"手势从左往右滑动是向左滑动 \"),a(\"code\",[t._v(\"delta.x > 0\")]),t._v(\", 手势从右往左滑动是向右滑动 \"),a(\"code\",[t._v(\"delta.x < 0\")])])]),t._v(\" \"),a(\"h3\",{attrs:{id:\"坑点\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#坑点\"}},[t._v(\"#\")]),t._v(\" 坑点\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"不必要的-id-传入\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#不必要的-id-传入\"}},[t._v(\"#\")]),t._v(\" 不必要的 id 传入\")]),t._v(\" \"),a(\"p\",[t._v(\"为了解决在一个页面中使用多处 \"),a(\"code\",[t._v(\"Swipe\")]),t._v(\" 组件，首先提供了一个 id 参数来进行区分多个 Swipe 组件, 思路是在封装的组件内部通过 \"),a(\"code\",[t._v(\"document.getElementById(id)\")]),t._v(\" 获取到这个 dom 节点，然后进行位置的初始化。\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),t._v(\"Swipe\\n  id\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"demo\"')]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"Swipe\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n\")])])]),a(\"p\",[t._v(\"传入额外的 id 这对使用者是一个不必要的负担, 可以在组件内使用 \"),a(\"code\",[t._v(\"ref\")]),t._v(\" 获取到对应的 \"),a(\"code\",[t._v(\"dom\")]),t._v(\"。\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"如何改造成受控组件\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#如何改造成受控组件\"}},[t._v(\"#\")]),t._v(\" 如何改造成受控组件\")]),t._v(\" \"),a(\"p\",[t._v(\"目前的实现为非受控组件, 若要将其改为受控组件, 改的地方比较多, 必须使用 \"),a(\"code\",[t._v(\"state\")]),t._v(\" 来替换全局参数。另外位置的信息在 \"),a(\"code\",[t._v(\"React.cloneElement()\")]),t._v(\" 中进行处理。\")]),t._v(\" \"),a(\"h4\",{attrs:{id:\"测试用例之坑\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#测试用例之坑\"}},[t._v(\"#\")]),t._v(\" 测试用例之坑\")]),t._v(\" \"),a(\"p\",[a(\"code\",[t._v(\"jest\")]),t._v(\" 跑如下测试用例, 当跑到 \"),a(\"code\",[t._v(\"componentDidMount\")]),t._v(\" 里的 \"),a(\"code\",[t._v(\"document.getElementById('demo')\")]),t._v(\" 并不拿到相应元素。\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"mount\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),t._v(\"Swipe\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),t._v(\"div key\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"1\"')]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[t._v(\"PANE\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"div\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),t._v(\"div key\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"2\"')]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[t._v(\"PANE\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"2\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"div\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),t._v(\"div key\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"3\"')]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[t._v(\"PANE\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"3\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"div\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),t._v(\"div key\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"4\"')]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[t._v(\"PANE\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"4\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"div\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"Swipe\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])])]),a(\"div\",{staticClass:\"language-jsx extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-jsx\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"componentDidMount\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  document\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"getElementById\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'demo'\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"render\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"<\")]),t._v(\"div\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token attr-name\"}},[t._v(\"id\")]),a(\"span\",{pre:!0,attrs:{class:\"token attr-value\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation attr-equals\"}},[t._v(\"=\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')]),t._v(\"demo\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v('\"')])]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),a(\"span\",{pre:!0,attrs:{class:\"token plain-text\"}},[t._v(\"...\")]),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"</\")]),t._v(\"div\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\">\")])]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),a(\"p\",[t._v(\"原因是因为 \"),a(\"code\",[t._v(\"mount\")]),t._v(\" 渲染组件是挂载到 \"),a(\"a\",{attrs:{href:\"https://github.com/jsdom/jsdom\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"jsdom\"),a(\"OutboundLink\")],1),t._v(\" 上而非真实 \"),a(\"code\",[t._v(\"dom\")]),t._v(\" 上, 当时的解决思路如下:\")]),t._v(\" \"),a(\"div\",{staticClass:\"language-js extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-js\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"mount\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),t._v(\"Swipe\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),t._v(\"div key\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"1\"')]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[t._v(\"PANE\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"div\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),t._v(\"div key\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"2\"')]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[t._v(\"PANE\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"2\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"div\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),t._v(\"div key\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"3\"')]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[t._v(\"PANE\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"3\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"div\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),t._v(\"div key\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"4\"')]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),a(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[t._v(\"PANE\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"4\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"div\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"Swipe\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" attatch\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" document\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"body \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])])]),a(\"p\",[t._v(\"经过上述去除步骤去掉 \"),a(\"code\",[t._v(\"document.getElementById\")]),t._v(\" 使用 ref 后, \"),a(\"code\",[t._v(\"{ attatch: document.body }\")]),t._v(\" 也便去掉了。\")]),t._v(\" \"),a(\"h3\",{attrs:{id:\"css-方案\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#css-方案\"}},[t._v(\"#\")]),t._v(\" CSS 方案?\")]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"scroll-snap-type\\n\"),a(\"ul\",[a(\"li\",[t._v(\"mandatory: the visual viewport of this scroll container will \"),a(\"code\",[t._v(\"rest on a snap point\")]),t._v(\" if it isn't currently scrolled.\")]),t._v(\" \"),a(\"li\",[t._v(\"proximity: The visual viewport of this scroll container may come to \"),a(\"code\",[t._v(\"rest on a snap point\")]),t._v(\" if it isn't currently scrolled considering the user agent's scroll parameters.\")])])])]),t._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/56583153afaa5ae1edad7bea4b728234.jpg-400\",alt:\"\"}})]),t._v(\" \"),a(\"ul\",[a(\"li\",[t._v(\"scroll-snap-align: start;\")]),t._v(\" \"),a(\"li\",[t._v(\"scroll-snap-stop(experiment)\\n\"),a(\"ul\",[a(\"li\",[t._v('always: defining whether the scroll container is allowed to \"pass over\" possible snap positions(Used with scroll-snap-align can).')])])])]),t._v(\" \"),a(\"p\",[t._v(\"阅读文档后, 该 api 浏览器兼容情况不是特别好(ios 要 11 以上), 此外, 比如循环轮播是无法实现的。\")])])}),[],!1,null,null,null);s.default=r.exports}}]);","extractedComments":[]}