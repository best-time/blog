{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{581:function(e,t,a){\"use strict\";a.r(t);var r=a(12),s=Object(r.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":e.$parent.slotKey}},[a(\"h2\",{attrs:{id:\"seo-在-spa-站点中的实践\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#seo-在-spa-站点中的实践\"}},[e._v(\"#\")]),e._v(\" SEO 在 SPA 站点中的实践\")]),e._v(\" \"),a(\"h3\",{attrs:{id:\"背景\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#背景\"}},[e._v(\"#\")]),e._v(\" 背景\")]),e._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/c03d8772da6d57e47c55044aee364103.jpg\",alt:\"\"}})]),e._v(\" \"),a(\"p\",[e._v(\"观察基于 \"),a(\"a\",{attrs:{href:\"https://github.com/MuYunyun/create-react-doc\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"create-react-doc\"),a(\"OutboundLink\")],1),e._v(\" 搭建的\"),a(\"a\",{attrs:{href:\"http://muyunyun.cn/create-react-doc/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"文档站点\"),a(\"OutboundLink\")],1),e._v(\", 发现网页代码光秃秃的一片(见下图)。这显然是单页应用 (SPA) 站点的通病 —— 不利于文档被搜索引擎搜索 (SEO)。\")]),e._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/0ba88a7544efe0e1978e6c8d8b7775a6.jpg\",alt:\"\"}})]),e._v(\" \"),a(\"p\",[e._v(\"难道 SPA 站点就无法进行 SEO 了么, 那么 \"),a(\"a\",{attrs:{href:\"https://github.com/gatsbyjs/gatsby\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Gatsby\"),a(\"OutboundLink\")],1),e._v(\"、\"),a(\"a\",{attrs:{href:\"https://github.com/nuxt/nuxt.js\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"nuxt\"),a(\"OutboundLink\")],1),e._v(\" 等框架又为何能作为不少博主搭建博客的首选方案呢, 此类框架赋能 SEO 的技术原理是什么呢? 在好奇心的驱动下, 笔者尝试对 \"),a(\"a\",{attrs:{href:\"https://github.com/MuYunyun/create-react-doc\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"creat-react-doc\"),a(\"OutboundLink\")],1),e._v(\" 进行赋能 SEO 之旅。\")]),e._v(\" \"),a(\"h3\",{attrs:{id:\"搜索引擎优化\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#搜索引擎优化\"}},[e._v(\"#\")]),e._v(\" 搜索引擎优化\")]),e._v(\" \"),a(\"p\",[e._v(\"在实践之前, 先从理论上分析为何单页应用不能被搜索引擎搜索到。核心在于 \"),a(\"code\",[e._v(\"爬虫蜘蛛在执行爬取的过程中, 不会去执行网页中的 JS 逻辑\")]),e._v(\", 所以\"),a(\"code\",[e._v(\"隐藏在 JS 中的跳转逻辑也不会被执行\")]),e._v(\"。\")]),e._v(\" \"),a(\"p\",[e._v(\"查看当前 SPA 站点打包后的代码, 除了一个根目录 index.html 外, 其它都是注入的 JS 逻辑, 因此浏览器自然不会对其进行 SEO。\")]),e._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/0d15d4e3a62516da7c301e8f1c9228d6.jpg\",alt:\"\"}})]),e._v(\" \"),a(\"p\",[e._v(\"此外, 搜索引擎详优化是一门较复杂的学问。如果你对 SEO 优化比较陌生, 建议阅读\"),a(\"a\",{attrs:{href:\"https://developers.google.com/search/docs/beginner/seo-starter-guide\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"搜索引擎优化 (SEO) 新手指南\"),a(\"OutboundLink\")],1),e._v(\" 一文, Google 搜索中心给出了全面的 \"),a(\"strong\",[e._v(\"17 个\")]),e._v(\"最佳做法, 以及 \"),a(\"strong\",[e._v(\"33 个\")]),e._v(\"应避免的做法, 这也是笔者近期在实践的部分。\")]),e._v(\" \"),a(\"h3\",{attrs:{id:\"seo-在-spa-站点中的实践案例\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#seo-在-spa-站点中的实践案例\"}},[e._v(\"#\")]),e._v(\" SEO 在 SPA 站点中的实践案例\")]),e._v(\" \"),a(\"p\",[e._v(\"在轻文档站点的背景前提下, 我们暂不考虑 SSR 方案。\")]),e._v(\" \"),a(\"p\",[e._v(\"对市面上文档站点的 SEO 方案调研后, 笔者总结为如下四类:\")]),e._v(\" \"),a(\"ul\",[a(\"li\",[e._v(\"静态模板渲染方案\")]),e._v(\" \"),a(\"li\",[e._v(\"404 重定向方案\")]),e._v(\" \"),a(\"li\",[e._v(\"SSG 方案\")]),e._v(\" \"),a(\"li\",[e._v(\"预渲染方案\")])]),e._v(\" \"),a(\"h4\",{attrs:{id:\"静态模板渲染方案\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#静态模板渲染方案\"}},[e._v(\"#\")]),e._v(\" 静态模板渲染方案\")]),e._v(\" \"),a(\"p\",[e._v(\"静态模板渲染方案以 \"),a(\"a\",{attrs:{href:\"https://github.com/hexojs/hexo\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"hexo\"),a(\"OutboundLink\")],1),e._v(\" 最为典型, 此类框架需要指定特定的模板语言(比如 \"),a(\"a\",{attrs:{href:\"https://github.com/pugjs/pug\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"pug\"),a(\"OutboundLink\")],1),e._v(\")来开发主题, 从而达到网页内容直出的目的。\")]),e._v(\" \"),a(\"h4\",{attrs:{id:\"_404-重定向方案\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_404-重定向方案\"}},[e._v(\"#\")]),e._v(\" 404 重定向方案\")]),e._v(\" \"),a(\"p\",[e._v(\"404 重定向方案的原理主要是利用 GitHub Pages 的 404 机制进行重定向。比较典型的案例有 \"),a(\"a\",{attrs:{href:\"https://github.com/rafgraph/spa-github-pages\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"spa-github-pages\"),a(\"OutboundLink\")],1),e._v(\"、\"),a(\"a\",{attrs:{href:\"https://github.com/csuwildcat/sghpa\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"sghpa\"),a(\"OutboundLink\")],1),e._v(\"。\")]),e._v(\" \"),a(\"p\",[e._v(\"但是遗憾的是 2019 年 Google \"),a(\"a\",{attrs:{href:\"https://github.com/rafgraph/spa-github-pages#seo\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"调整了爬虫算法\"),a(\"OutboundLink\")],1),e._v(\", 因此此类重定向方案在当下是无利于 SEO 的。spa-github-pages 作者也表示如果需要 SEO 的话, 使用 SSG 方案或者付费方案 \"),a(\"a\",{attrs:{href:\"https://www.netlify.com/blog/2020/04/07/creating-better-more-predictable-redirect-rules-for-spas/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Netlify\"),a(\"OutboundLink\")],1),e._v(\"。\")]),e._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/bbb5ed8bce1e0c08dae94df98ff33262.jpg\",alt:\"\"}})]),e._v(\" \"),a(\"h4\",{attrs:{id:\"ssg-方案\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#ssg-方案\"}},[e._v(\"#\")]),e._v(\" SSG 方案\")]),e._v(\" \"),a(\"p\",[e._v(\"SSG 方案全称为 static site generator, 中文可译为\"),a(\"code\",[e._v(\"路由静态化方案\")]),e._v(\"。社区上 \"),a(\"a\",{attrs:{href:\"https://github.com/nuxt/nuxt.js\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"nuxt\"),a(\"OutboundLink\")],1),e._v(\"、\"),a(\"a\",{attrs:{href:\"https://github.com/gatsbyjs/gatsby\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Gatsby\"),a(\"OutboundLink\")],1),e._v(\"、\"),a(\"a\",{attrs:{href:\"https://github.com/facebook/docusaurus\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"docusaurus\"),a(\"OutboundLink\")],1),e._v(\" 等框架赋能 SEO 的技术无一例外可以归类此类 SSG 方案。\")]),e._v(\" \"),a(\"p\",[e._v(\"以 nuxt 框架为例, 在\"),a(\"code\",[e._v(\"约定式路由\")]),e._v(\"的基础上, 其通过执行 \"),a(\"code\",[e._v(\"nuxt generate\")]),e._v(\" 命令将 vue 文件转化为静态网页。\")]),e._v(\" \"),a(\"p\",[e._v(\"例子:\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[e._v(\"-\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" pages/\\n---\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" about.vue/\\n---\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" index.vue/\\n\")])])]),a(\"p\",[e._v(\"静态化后变成:\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[e._v(\"-\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" dist/\\n---\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" about/\\n-----\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" index.html\\n---\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" index.html\\n\")])])]),a(\"p\",[e._v(\"经过路由静态化后, 此时的文档目录结构可以托管于任何一个静态站点服务商。\")]),e._v(\" \"),a(\"h4\",{attrs:{id:\"预渲染方案\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#预渲染方案\"}},[e._v(\"#\")]),e._v(\" 预渲染方案\")]),e._v(\" \"),a(\"p\",[e._v(\"经过上文对 SSG 方案的分析, 此时 SPA 站点的优化关键已经跃然纸上 —— \"),a(\"code\",[e._v(\"静态化路由\")]),e._v(\"。相较于 nuxt、Gatsby 等框架存在约定式路由的限制, \"),a(\"a\",{attrs:{href:\"https://github.com/MuYunyun/create-react-doc\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"create-react-doc\"),a(\"OutboundLink\")],1),e._v(\" 在目录结构上的组织灵活自由。它的建站理念是\"),a(\"code\",[e._v(\"文件即站点\")]),e._v(\", 同时它对存量 markdown 文档的迁移也十分便捷。\")]),e._v(\" \"),a(\"p\",[e._v(\"以 \"),a(\"a\",{attrs:{href:\"https://github.com/MuYunyun/blog\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"blog\"),a(\"OutboundLink\")],1),e._v(\" 项目结构为例, 其文档结构如下:\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[e._v(\"-\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" BasicSkill/\\n---\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" basic/\\n-----\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" DOM.md\\n-----\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" HTML5.md\\n\")])])]),a(\"p\",[e._v(\"静态化后应该变成:\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[e._v(\"-\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" BasicSkill/\\n---\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" basic/\\n-----\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" DOM\\n-------\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" index.html\\n-----\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" HTML5\\n-------\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" index.html\\n\")])])]),a(\"p\",[e._v(\"经过调研, 该构思与 \"),a(\"a\",{attrs:{href:\"https://github.com/chrisvfritz/prerender-spa-plugin\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"prerender-spa-plugin\"),a(\"OutboundLink\")],1),e._v(\" 预渲染方案一拍即合。预渲染方案的原理可以见如下图:\")]),e._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/f3eb18c162a31fb155fd9f4a364f7fb9.jpg\",alt:\"\"}})]),e._v(\" \"),a(\"p\",[e._v(\"至此技术选型定下为使用预渲染方案实现 SSG。\")]),e._v(\" \"),a(\"h3\",{attrs:{id:\"预渲染方案实践\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#预渲染方案实践\"}},[e._v(\"#\")]),e._v(\" 预渲染方案实践\")]),e._v(\" \"),a(\"p\",[e._v(\"create-react-doc 在预渲染方案实践的步骤简单概况如下(完整改动可见 \"),a(\"a\",{attrs:{href:\"https://github.com/MuYunyun/create-react-doc/pull/95/files\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"mr\"),a(\"OutboundLink\")],1),e._v(\"):\")]),e._v(\" \"),a(\"ul\",[a(\"li\",[e._v(\"改造 hash 路由为 history 路由。因为 history 路由结构与文档静态化目录结构天然匹配。\")])]),e._v(\" \"),a(\"div\",{staticClass:\"language-diff extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-diff\"}},[a(\"code\",[e._v(\"export default function RouterRoot() {\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token unchanged\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix unchanged\"}},[e._v(\" \")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\" return (\\n\")])]),a(\"span\",{pre:!0,attrs:{class:\"token deleted-sign deleted\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix deleted\"}},[e._v(\"-\")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\"    <HashRouter>\\n\")])]),a(\"span\",{pre:!0,attrs:{class:\"token inserted-sign inserted\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix inserted\"}},[e._v(\"+\")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\"    <BrowserRouter>\\n\")])]),a(\"span\",{pre:!0,attrs:{class:\"token unchanged\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix unchanged\"}},[e._v(\" \")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\"     <RoutersContainer />\\n\")])]),a(\"span\",{pre:!0,attrs:{class:\"token deleted-sign deleted\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix deleted\"}},[e._v(\"-\")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\"    </HashRouter>\\n\")])]),a(\"span\",{pre:!0,attrs:{class:\"token inserted-sign inserted\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix inserted\"}},[e._v(\"+\")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\"    </BrowserRouter>\\n\")])]),a(\"span\",{pre:!0,attrs:{class:\"token unchanged\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix unchanged\"}},[e._v(\" \")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\" )\\n\")])]),e._v(\"}\\n\")])])]),a(\"ul\",[a(\"li\",[e._v(\"在开发环境、生成环境的基础上新增\"),a(\"code\",[e._v(\"预渲染环境\")]),e._v(\", 同时对路由进行环境匹配。其主要解决了\"),a(\"code\",[e._v(\"资源文件\")]),e._v(\"与\"),a(\"code\",[e._v(\"主域名下的子路径\")]),e._v(\"的对应关系。过程比较曲折, 感兴趣的同学可以见 \"),a(\"a\",{attrs:{href:\"https://github.com/chrisvfritz/prerender-spa-plugin/issues/215#issuecomment-415942268\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"issue\"),a(\"OutboundLink\")],1),e._v(\"。\")])]),e._v(\" \"),a(\"div\",{staticClass:\"language-diff extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-diff\"}},[a(\"code\",[e._v(\"const ifProd = env === 'prod'\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token inserted-sign inserted\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix inserted\"}},[e._v(\"+\")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\" const ifPrerender = window.__PRERENDER_INJECTED && window.__PRERENDER_INJECTED.prerender\\n\")]),a(\"span\",{pre:!0,attrs:{class:\"token prefix inserted\"}},[e._v(\"+\")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\" const ifAddPrefix = ifProd && !ifPrerender\\n\")])]),e._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token deleted-arrow deleted\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix deleted\"}},[e._v(\"<\")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\"Route\\n\")])]),a(\"span\",{pre:!0,attrs:{class:\"token unchanged\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix unchanged\"}},[e._v(\" \")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\" key={item.path}\\n\")]),a(\"span\",{pre:!0,attrs:{class:\"token prefix unchanged\"}},[e._v(\" \")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\" exact\\n\")])]),a(\"span\",{pre:!0,attrs:{class:\"token deleted-sign deleted\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix deleted\"}},[e._v(\"-\")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\"  path={item.path}\\n\")])]),a(\"span\",{pre:!0,attrs:{class:\"token inserted-sign inserted\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix inserted\"}},[e._v(\"+\")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\"  path={ifAddPrefix ? `/${repo}${item.path}` : item.path}\\n\")])]),a(\"span\",{pre:!0,attrs:{class:\"token unchanged\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix unchanged\"}},[e._v(\" \")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\" render={() => { ... }}\\n\")])]),e._v(\"/>\\n\")])])]),a(\"ul\",[a(\"li\",[e._v(\"兼容 prerender-spa-plugin 在 webpack 5 的使用。\")])]),e._v(\" \"),a(\"p\",[e._v(\"官方版本当前未支持 webpack 5, 详见 \"),a(\"a\",{attrs:{href:\"https://github.com/chrisvfritz/prerender-spa-plugin/issues/414\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"issue\"),a(\"OutboundLink\")],1),e._v(\", 同时笔者存在对预渲染后执行回调的需求。因此当前 fork 了一份\"),a(\"a\",{attrs:{href:\"https://github.com/create-react-doc/prerender-spa-plugin\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"版本\"),a(\"OutboundLink\")],1),e._v(\" 出来, 解决了以上问题。\")]),e._v(\" \"),a(\"p\",[e._v(\"经过上述步骤的实践, 终于在 SPA 站点中实现了\"),a(\"a\",{attrs:{href:\"https://github.com/MuYunyun/blog/tree/gh-pages\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"静态化路由\"),a(\"OutboundLink\")],1),e._v(\"。\")]),e._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/bf01633af158d460ca2830ed640e07cb.jpg\",alt:\"\"}})]),e._v(\" \"),a(\"h3\",{attrs:{id:\"seo-优化附加-buff-站点秒开\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#seo-优化附加-buff-站点秒开\"}},[e._v(\"#\")]),e._v(\" SEO 优化附加 buff, 站点秒开?\")]),e._v(\" \"),a(\"p\",[e._v(\"SEO 优化至此, 来看下站点优化前后 FP、FCP、LCP 等指标数据的变化。\")]),e._v(\" \"),a(\"p\",[e._v(\"以 \"),a(\"a\",{attrs:{href:\"https://muyunyun.cn/blog\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"blog\"),a(\"OutboundLink\")],1),e._v(\" 站点为例, 优化前后的指标数据如下(数据指标统计来自未使用梯子访问 gh-pages):\")]),e._v(\" \"),a(\"p\",[e._v(\"优化前: 接入预渲染方案前, 首次绘制(FP、FCP) 的时间节点在 8s 左右, LCP 在 17s 左右。\")]),e._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/23d56cc42fd778c23d8ed80331334343.jpg\",alt:\"\"}})]),e._v(\" \"),a(\"p\",[e._v(\"优化后: 接入预渲染方案后, 首次绘制时间节点在 \"),a(\"code\",[e._v(\"1s\")]),e._v(\" 之内开始, LCP 在 1.5s 之内。\")]),e._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/9c551d29943c3d76700782374d86c37b.jpg\",alt:\"\"}})]),e._v(\" \"),a(\"p\",[e._v(\"对比优化前后: 首屏绘制速度提升了 \"),a(\"code\",[e._v(\"8\")]),e._v(\" 倍, 最大内容绘制速度提升 \"),a(\"code\",[e._v(\"11\")]),e._v(\" 倍。本想优化 SEO, 结果站点性能优化的方式又 get 了一个。\")]),e._v(\" \"),a(\"h3\",{attrs:{id:\"生成站点地图-sitemap\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#生成站点地图-sitemap\"}},[e._v(\"#\")]),e._v(\" 生成站点地图 Sitemap\")]),e._v(\" \"),a(\"p\",[e._v(\"在完成预渲染实现站点路由静态化后, 距离 SEO 的目标又近了一步。暂且抛开 \"),a(\"a\",{attrs:{href:\"https://developers.google.com/search/docs/beginner/seo-starter-guide\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"SEO 优化细节\"),a(\"OutboundLink\")],1),e._v(\", 单刀直入 SEO 核心腹地 \"),a(\"a\",{attrs:{href:\"https://developers.google.com/search/docs/advanced/sitemaps/overview\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"站点地图\"),a(\"OutboundLink\")],1),e._v(\"。\")]),e._v(\" \"),a(\"p\",[e._v(\"站点地图 Sitemap 格式与各字段含义简单说明如下:\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-xml extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token prolog\"}},[e._v('<?xml version=\"1.0\" encoding=\"utf-8\"?>')]),e._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"<\")]),e._v(\"urlset\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[e._v(\"\\x3c!-- 必填标签, 这是具体某一个链接的定义入口，每一条数据都要用 <url> 和 </url> 包含在里面, 这是必须的 --\\x3e\")]),e._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"<\")]),e._v(\"url\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[e._v(\"\\x3c!-- 必填, URL 链接地址,长度不得超过 256 字节 --\\x3e\")]),e._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"<\")]),e._v(\"loc\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"http://www.yoursite.com/yoursite.html\"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"</\")]),e._v(\"loc\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[e._v(\"\\x3c!-- 可以不提交该标签, 用来指定该链接的最后更新时间 --\\x3e\")]),e._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"<\")]),e._v(\"lastmod\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"2021-03-06\"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"</\")]),e._v(\"lastmod\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[e._v(\"\\x3c!-- 可以不提交该标签, 用这个标签告诉此链接可能会出现的更新频率 --\\x3e\")]),e._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"<\")]),e._v(\"changefreq\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"daily\"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"</\")]),e._v(\"changefreq\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[e._v(\"\\x3c!-- 可以不提交该标签, 用来指定此链接相对于其他链接的优先权比值，此值定于 0.0-1.0 之间 --\\x3e\")]),e._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"<\")]),e._v(\"priority\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"0.8\"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"</\")]),e._v(\"priority\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"</\")]),e._v(\"url\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"</\")]),e._v(\"urlset\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"\\n\")])])]),a(\"blockquote\",[a(\"p\",[e._v(\"上述 sitemap 中, lastmod、changefreq、priority 字段对 SEO 没那么重要, 可以见 \"),a(\"a\",{attrs:{href:\"https://ahrefs.com/blog/zh/how-to-create-a-sitemap/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"how-to-create-a-sitemap\"),a(\"OutboundLink\")],1)])]),e._v(\" \"),a(\"p\",[e._v(\"根据上述结构, 笔者开发了 create-react-doc 的站点地图生成包 \"),a(\"a\",{attrs:{href:\"https://github.com/MuYunyun/create-react-doc/tree/main/packages/crd-generator-sitemap\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"crd-generator-sitemap\"),a(\"OutboundLink\")],1),e._v(\", 其逻辑就是将预渲染的路由路径拼接成上述格式。\")]),e._v(\" \"),a(\"p\",[e._v(\"使用方只需在站点根目录的 \"),a(\"code\",[e._v(\"config.yml\")]),e._v(\" 添加如下参数便可以在自动化发版过程中自动生成 \"),a(\"a\",{attrs:{href:\"http://muyunyun.cn/create-react-doc/sitemap.xml\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"sitemap\"),a(\"OutboundLink\")],1),e._v(\"。\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[e._v(\"seo:\\n  google: \"),a(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[e._v(\"true\")]),e._v(\"\\n\")])])]),a(\"p\",[e._v(\"将生成的站点地图往 \"),a(\"a\",{attrs:{href:\"https://search.google.com/search-console/sitemaps\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Google Search Console\"),a(\"OutboundLink\")],1),e._v(\" 中提交试试吧,\")]),e._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/97c21838a1e3310b3c1259e30ab85f3b.jpg\",alt:\"\"}})]),e._v(\" \"),a(\"p\",[e._v(\"最后验证下 Google 搜索\"),a(\"a\",{attrs:{href:\"https://www.google.com/search?q=site%3Amuyunyun.cn%2Fcreate-react-doc&ie=UTF-8\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"站点\"),a(\"OutboundLink\")],1),e._v(\"优化前后效果。\")]),e._v(\" \"),a(\"p\",[e._v(\"优化前: 只搜索到一条数据。\")]),e._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/aea3401e5a31587deb8d93a14f32b011.jpg\",alt:\"\"}})]),e._v(\" \"),a(\"p\",[e._v(\"优化后: 搜索到站点地图中声明的位置数据。\")]),e._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/6df1536366c7d45e0f6418af03a7d948.jpg\",alt:\"\"}})]),e._v(\" \"),a(\"p\",[e._v(\"至此使用 SSG 优化 SPA 站点实现 SEO 的完整流程完整实现了一遍。后续便剩下参照 \"),a(\"a\",{attrs:{href:\"https://developers.google.com/search/docs/beginner/seo-starter-guide\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"搜索引擎优化 (SEO) 新手指南\"),a(\"OutboundLink\")],1),e._v(\" 做一些 SEO 细节方面的优化以及支持更多搜索引擎了。\")]),e._v(\" \"),a(\"h3\",{attrs:{id:\"小结\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#小结\"}},[e._v(\"#\")]),e._v(\" 小结\")]),e._v(\" \"),a(\"p\",[e._v(\"本文从 SPA 站点实现 SEO 作为切入点, 先后介绍了 SEO 的基本原理, SEO 在 SPA 站点中的 4 种实践案例, 并结合 \"),a(\"a\",{attrs:{href:\"https://github.com/MuYunyun/create-react-doc\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"create-react-doc\"),a(\"OutboundLink\")],1),e._v(\" SPA 框架进行完整的 SEO 实践。\")]),e._v(\" \"),a(\"p\",[e._v(\"如果本文对您有所帮助, 欢迎 \"),a(\"a\",{attrs:{href:\"https://github.com/MuYunyun/create-react-doc\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"star\"),a(\"OutboundLink\")],1),e._v(\"、\"),a(\"a\",{attrs:{href:\"https://github.com/MuYunyun/create-react-doc/issues/new\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"反馈\"),a(\"OutboundLink\")],1),e._v(\"。\")]),e._v(\" \"),a(\"h3\",{attrs:{id:\"相关链接\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#相关链接\"}},[e._v(\"#\")]),e._v(\" 相关链接\")]),e._v(\" \"),a(\"ul\",[a(\"li\",[a(\"a\",{attrs:{href:\"https://github.com/MuYunyun/create-react-doc\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"create-react-doc\"),a(\"OutboundLink\")],1)]),e._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"https://ahrefs.com/blog/zh/why-is-my-website-not-showing-up-on-google/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"why-is-my-website-not-showing-up-on-google/\"),a(\"OutboundLink\")],1)]),e._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"https://medium.com/frontend-digest/a-technical-guide-to-seo-with-gatsby-js-e88a7dac80f0\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"A Technical Guide to SEO With Gatsby.js\"),a(\"OutboundLink\")],1)]),e._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"https://juejin.cn/post/6844903503362523143\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"优化向：单页应用多路由预渲染指南\"),a(\"OutboundLink\")],1)]),e._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"https://zhuanlan.zhihu.com/p/57375824\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"除了 SSR，就没有别的办法了吗？\"),a(\"OutboundLink\")],1)]),e._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"https://segmentfault.com/a/1190000023792497\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"基于 SSR/SSG 的前端 SEO 优化\"),a(\"OutboundLink\")],1)])]),e._v(\" \"),a(\"h2\",{attrs:{id:\"translate\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#translate\"}},[e._v(\"#\")]),e._v(\" translate\")]),e._v(\" \"),a(\"h2\",{attrs:{id:\"seo-practice-in-spa-site\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#seo-practice-in-spa-site\"}},[e._v(\"#\")]),e._v(\" SEO practice in SPA site\")]),e._v(\" \"),a(\"h3\",{attrs:{id:\"background\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#background\"}},[e._v(\"#\")]),e._v(\" Background\")]),e._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/c03d8772da6d57e47c55044aee364103.jpg\",alt:\"\"}})]),e._v(\" \"),a(\"p\",[e._v(\"Observe that \"),a(\"a\",{attrs:{href:\"http://muyunyun.cn/create-react-doc/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"document site\"),a(\"OutboundLink\")],1),e._v(\" built based on \"),a(\"a\",{attrs:{href:\"https://github.com/MuYunyun/create-react-doc\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"create-react-doc\"),a(\"OutboundLink\")],1),e._v(\", I found the webpage code is bare(see the picture below). This is obviously a common problem of single-page application (SPA) sites. It is not conducive to be searched by search engines (SEO).\")]),e._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/0ba88a7544efe0e1978e6c8d8b7775a6.jpg\",alt:\"\"}})]),e._v(\" \"),a(\"p\",[e._v(\"Isn't it possible that SPA sites can't perform SEO, so what about frameworks such as \"),a(\"a\",{attrs:{href:\"https://github.com/gatsbyjs/gatsby\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Gatsby\"),a(\"OutboundLink\")],1),e._v(\", \"),a(\"a\",{attrs:{href:\"https://github.com/nuxt/nuxt.js\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"nuxt\"),a(\"OutboundLink\")],1),e._v(\" It can be used as the first choice for many bloggers to build blogs. What are the technical principles of such frameworks to empower SEO? Driven by curiosity, I start my journey of empowering SEO in \"),a(\"a\",{attrs:{href:\"https://github.com/MuYunyun/create-react-doc\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"creat-react-doc\"),a(\"OutboundLink\")],1),e._v(\".\")]),e._v(\" \"),a(\"h3\",{attrs:{id:\"search-engine-optimization\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#search-engine-optimization\"}},[e._v(\"#\")]),e._v(\" Search Engine Optimization\")]),e._v(\" \"),a(\"p\",[e._v(\"Before practice, let's analyze why single-page applications cannot be searched by search engines. The core is that \"),a(\"code\",[e._v(\"the crawler spider will not execute the JavaScript logic in the webpage during the crawling process\")]),e._v(\", so \"),a(\"code\",[e._v(\"the jump logic hidden in the JavaScript will not be executed either\")]),e._v(\".\")]),e._v(\" \"),a(\"p\",[e._v(\"Check the packaged code of the current SPA site. Except for a root directory index.html, everything else is injected with JavaScript logic, so the browser will naturally not perform SEO on it.\")]),e._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/0d15d4e3a62516da7c301e8f1c9228d6.jpg\",alt:\"\"}})]),e._v(\" \"),a(\"p\",[e._v(\"In addition, detailed search engine optimization is a more complicated subject. If you are new to SEO optimization, it is recommended to read \"),a(\"a\",{attrs:{href:\"https://developers.google.com/search/docs/beginner/seo-starter-guide\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Search Engine Optimization (SEO) Beginner's Guide\"),a(\"OutboundLink\")],1),e._v(\" article, given by Google Search Center. There are a comprehensive list of \"),a(\"strong\",[e._v(\"17\")]),e._v(\" best practices, and \"),a(\"strong\",[e._v(\"33\")]),e._v(\" practices that should be avoided.\")]),e._v(\" \"),a(\"h3\",{attrs:{id:\"practical-case-of-seo-in-spa-site\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#practical-case-of-seo-in-spa-site\"}},[e._v(\"#\")]),e._v(\" Practical case of SEO in SPA site\")]),e._v(\" \"),a(\"p\",[e._v(\"In the context of the light document site, we do not consider the SSR scheme for the time being.\")]),e._v(\" \"),a(\"p\",[e._v(\"After investigating the SEO schemes of document sites on the market, the author summarizes the following four categories:\")]),e._v(\" \"),a(\"ul\",[a(\"li\",[e._v(\"Static template rendering scheme\")]),e._v(\" \"),a(\"li\",[e._v(\"404 redirection scheme\")]),e._v(\" \"),a(\"li\",[e._v(\"SSG plan\")]),e._v(\" \"),a(\"li\",[e._v(\"Pre-rendering scheme\")])]),e._v(\" \"),a(\"h4\",{attrs:{id:\"static-template-rendering-scheme\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#static-template-rendering-scheme\"}},[e._v(\"#\")]),e._v(\" Static template rendering scheme\")]),e._v(\" \"),a(\"p\",[a(\"a\",{attrs:{href:\"https://github.com/hexojs/hexo\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"hexo\"),a(\"OutboundLink\")],1),e._v(\" is the most typical in the static template rendering scheme. Such frameworks need to specify a specific template language (such as \"),a(\"a\",{attrs:{href:\"https://github.com/pugjs/pug\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"pug\"),a(\"OutboundLink\")],1),e._v(\") to develop themes, so as to achieve the purpose of direct output of web content.\")]),e._v(\" \"),a(\"h4\",{attrs:{id:\"_404-redirection-scheme\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_404-redirection-scheme\"}},[e._v(\"#\")]),e._v(\" 404 Redirection Scheme\")]),e._v(\" \"),a(\"p\",[e._v(\"The principle of the 404 redirect solution is mainly to use the 404 mechanism of GitHub Pages for redirection. Typical cases are \"),a(\"a\",{attrs:{href:\"https://github.com/rafgraph/spa-github-pages\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"spa-github-pages\"),a(\"OutboundLink\")],1),e._v(\", \"),a(\"a\",{attrs:{href:\"https://github.com/csuwildcat/sghpa\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"sghpa\"),a(\"OutboundLink\")],1),e._v(\".\")]),e._v(\" \"),a(\"p\",[e._v(\"But unfortunately, in 2019 Google \"),a(\"a\",{attrs:{href:\"https://github.com/rafgraph/spa-github-pages#seo\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"adjusted crawler algorithm\"),a(\"OutboundLink\")],1),e._v(\", so this kind of redirection scheme is not conducive to SEO at the moment. The author of spa-github-pages also stated that if SEO is required, use the SSG plan or the paid plan \"),a(\"a\",{attrs:{href:\"https://www.netlify.com/blog/2020/04/07/creating-better-more-predictable-redirect-rules-for-spas/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Netlify\"),a(\"OutboundLink\")],1),e._v(\".\")]),e._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/bbb5ed8bce1e0c08dae94df98ff33262.jpg\",alt:\"\"}})]),e._v(\" \"),a(\"h4\",{attrs:{id:\"ssg-plan\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#ssg-plan\"}},[e._v(\"#\")]),e._v(\" SSG plan\")]),e._v(\" \"),a(\"p\",[e._v(\"The full name of the SSG scheme is called \"),a(\"code\",[e._v(\"static site generator\")]),e._v(\". In the community, \"),a(\"a\",{attrs:{href:\"https://github.com/nuxt/nuxt.js\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"nuxt\"),a(\"OutboundLink\")],1),e._v(\", \"),a(\"a\",{attrs:{href:\"https://github.com/gatsbyjs/gatsby\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Gatsby\"),a(\"OutboundLink\")],1),e._v(\" and other framework-enabling SEO technologies can be classified without exception such SSG schemes.\")]),e._v(\" \"),a(\"p\",[e._v(\"Taking the nuxt framework as an example, based on the \"),a(\"code\",[e._v(\"conventional routing\")]),e._v(\", it converts vue files into static web pages by executing the \"),a(\"code\",[e._v(\"nuxt generate\")]),e._v(\" command.\")]),e._v(\" \"),a(\"p\",[e._v(\"example:\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[e._v(\"-\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" pages/\\n---\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" about.vue/\\n---\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" index.vue/\\n\")])])]),a(\"p\",[e._v(\"After being static, it becomes:\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[e._v(\"-\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" dist/\\n---\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" about/\\n-----\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" index.html\\n---\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" index.html\\n\")])])]),a(\"p\",[e._v(\"After the routing is static, the document directory structure at this time can be hosted by any static site service provider.\")]),e._v(\" \"),a(\"h4\",{attrs:{id:\"pre-rendering-scheme\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#pre-rendering-scheme\"}},[e._v(\"#\")]),e._v(\" Pre-rendering scheme\")]),e._v(\" \"),a(\"p\",[e._v(\"After the above analysis of the SSG scheme, at this time the key to optimization of the SPA site is already on paper —— \"),a(\"code\",[e._v(\"static routing\")]),e._v(\". Compared with frameworks such as nuxt and Gatsby, which have the limitation of conventional routing, \"),a(\"a\",{attrs:{href:\"https://github.com/MuYunyun/create-react-doc\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"create-react-doc\"),a(\"OutboundLink\")],1),e._v(\" has flexible and free organization in the directory structure. Its website building concept is \"),a(\"code\",[e._v(\"File is Site\")]),e._v(\", and it is also very convenient to migrate existing markdown documents.\")]),e._v(\" \"),a(\"p\",[e._v(\"Take \"),a(\"a\",{attrs:{href:\"https://github.com/MuYunyun/blog\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"blog\"),a(\"OutboundLink\")],1),e._v(\" project structure as an example, the document structure is as follows:\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[e._v(\"-\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" BasicSkill/\\n---\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" basic/\\n-----\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" DOM.md\\n-----\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" HTML5.md\\n\")])])]),a(\"p\",[e._v(\"It should become:\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[e._v(\"-\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" BasicSkill/\\n---\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" basic/\\n-----\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" DOM\\n-------\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" index.html\\n-----\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" HTML5\\n-------\"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[e._v(\"|\")]),e._v(\" index.html\\n\")])])]),a(\"p\",[e._v(\"After investigation, the idea and the \"),a(\"a\",{attrs:{href:\"https://github.com/chrisvfritz/prerender-spa-plugin\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"prerender-spa-plugin\"),a(\"OutboundLink\")],1),e._v(\" pre-rendering solution hit it off. The principle of the pre-rendering scheme can be seen in the following figure:\")]),e._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/f3eb18c162a31fb155fd9f4a364f7fb9.jpg\",alt:\"\"}})]),e._v(\" \"),a(\"p\",[e._v(\"So far, the technology selection is determined to use the pre-rendering scheme to achieve SSG.\")]),e._v(\" \"),a(\"h3\",{attrs:{id:\"pre-rendering-program-practice\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#pre-rendering-program-practice\"}},[e._v(\"#\")]),e._v(\" Pre-rendering program practice\")]),e._v(\" \"),a(\"p\",[e._v(\"A brief overview of the steps of create-react-doc's practice in the pre-rendering solution is as follows (for complete changes, see \"),a(\"a\",{attrs:{href:\"https://github.com/MuYunyun/create-react-doc/pull/95/files\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"mr\"),a(\"OutboundLink\")],1),e._v(\"):\")]),e._v(\" \"),a(\"ul\",[a(\"li\",[e._v(\"Transform hash routing to history routing. Because the history routing structure naturally matches the document static directory structure.\")])]),e._v(\" \"),a(\"div\",{staticClass:\"language-diff extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-diff\"}},[a(\"code\",[e._v(\"export default function RouterRoot() {\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token unchanged\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix unchanged\"}},[e._v(\" \")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\" return (\\n\")])]),a(\"span\",{pre:!0,attrs:{class:\"token deleted-sign deleted\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix deleted\"}},[e._v(\"-\")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\"<HashRouter>\\n\")])]),a(\"span\",{pre:!0,attrs:{class:\"token inserted-sign inserted\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix inserted\"}},[e._v(\"+\")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\" <BrowserRouter>\\n\")])]),a(\"span\",{pre:!0,attrs:{class:\"token unchanged\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix unchanged\"}},[e._v(\" \")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\"     <RoutersContainer />\\n\")])]),a(\"span\",{pre:!0,attrs:{class:\"token deleted-sign deleted\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix deleted\"}},[e._v(\"-\")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\"</HashRouter>\\n\")])]),a(\"span\",{pre:!0,attrs:{class:\"token inserted-sign inserted\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix inserted\"}},[e._v(\"+\")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\" </BrowserRouter>\\n\")])]),a(\"span\",{pre:!0,attrs:{class:\"token unchanged\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix unchanged\"}},[e._v(\" \")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\" )\\n\")])]),e._v(\"}\\n\")])])]),a(\"ul\",[a(\"li\",[e._v(\"Added \"),a(\"code\",[e._v(\"pre-rendering environment\")]),e._v(\" on the basis of development environment and generation environment, and matched the routing environment at the same time. It mainly solves the correspondence between \"),a(\"code\",[e._v(\"resource files\")]),e._v(\" and \"),a(\"code\",[e._v(\"sub-paths under the main domain name\")]),e._v(\". The process is tortuous, and interested friends can see \"),a(\"a\",{attrs:{href:\"https://github.com/chrisvfritz/prerender-spa-plugin/issues/215#issuecomment-415942268\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"issue\"),a(\"OutboundLink\")],1),e._v(\".\")])]),e._v(\" \"),a(\"div\",{staticClass:\"language-diff extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-diff\"}},[a(\"code\",[e._v(\"const ifProd = env ==='prod'\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token inserted-sign inserted\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix inserted\"}},[e._v(\"+\")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\" const ifPrerender = window.__PRERENDER_INJECTED && window.__PRERENDER_INJECTED.prerender\\n\")]),a(\"span\",{pre:!0,attrs:{class:\"token prefix inserted\"}},[e._v(\"+\")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\" const ifAddPrefix = ifProd && !ifPrerender\\n\")])]),e._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token deleted-arrow deleted\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix deleted\"}},[e._v(\"<\")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\"Route\\n\")])]),a(\"span\",{pre:!0,attrs:{class:\"token unchanged\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix unchanged\"}},[e._v(\" \")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\" key={item.path}\\n\")]),a(\"span\",{pre:!0,attrs:{class:\"token prefix unchanged\"}},[e._v(\" \")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\" exact\\n\")])]),a(\"span\",{pre:!0,attrs:{class:\"token deleted-sign deleted\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix deleted\"}},[e._v(\"-\")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\"path={item.path}\\n\")])]),a(\"span\",{pre:!0,attrs:{class:\"token inserted-sign inserted\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix inserted\"}},[e._v(\"+\")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\" path={ifAddPrefix? `/${repo}${item.path}`: item.path}\\n\")])]),a(\"span\",{pre:!0,attrs:{class:\"token unchanged\"}},[a(\"span\",{pre:!0,attrs:{class:\"token prefix unchanged\"}},[e._v(\" \")]),a(\"span\",{pre:!0,attrs:{class:\"token line\"}},[e._v(\" render={() => {... }}\\n\")])]),e._v(\"/>\\n\")])])]),a(\"ul\",[a(\"li\",[e._v(\"Compatible with the use of prerender-spa-plugin in webpack 5.\")])]),e._v(\" \"),a(\"p\",[e._v(\"The official version currently does not support webpack 5, see \"),a(\"a\",{attrs:{href:\"https://github.com/chrisvfritz/prerender-spa-plugin/issues/414\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"issue\"),a(\"OutboundLink\")],1),e._v(\" for details, and I have a need to execute callbacks after pre-rendering. Therefore, a copy of \"),a(\"a\",{attrs:{href:\"https://github.com/create-react-doc/prerender-spa-plugin\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"version\"),a(\"OutboundLink\")],1),e._v(\" is currently forked, which solves the above problems.\")]),e._v(\" \"),a(\"p\",[e._v(\"After the practice of the above steps, \"),a(\"a\",{attrs:{href:\"https://github.com/MuYunyun/blog/tree/gh-pages\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"static routing\"),a(\"OutboundLink\")],1),e._v(\" is finally implemented in the SPA site.\")]),e._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/bf01633af158d460ca2830ed640e07cb.jpg\",alt:\"\"}})]),e._v(\" \"),a(\"h3\",{attrs:{id:\"seo-optimization-with-additional-buff-the-site-opens-in-seconds\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#seo-optimization-with-additional-buff-the-site-opens-in-seconds\"}},[e._v(\"#\")]),e._v(\" SEO optimization with additional buff, the site opens in seconds?\")]),e._v(\" \"),a(\"p\",[e._v(\"SEO optimization so far, let's look at the changes in \"),a(\"code\",[e._v(\"FP\")]),e._v(\", \"),a(\"code\",[e._v(\"FCP\")]),e._v(\", \"),a(\"code\",[e._v(\"LCP\")]),e._v(\" and other indicator data before and after site optimization.\")]),e._v(\" \"),a(\"p\",[e._v(\"Taking the \"),a(\"a\",{attrs:{href:\"https://muyunyun.cn/blog\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"blog\"),a(\"OutboundLink\")],1),e._v(\" site as an example, the index data before and after optimization is as follows:\")]),e._v(\" \"),a(\"p\",[e._v(\"Before optimization: Before accessing the pre-rendering scheme, the time node for the first drawing (FP, FCP) is about \"),a(\"code\",[e._v(\"8s\")]),e._v(\", and the LCP is about 17s.\")]),e._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/23d56cc42fd778c23d8ed80331334343.jpg\",alt:\"\"}})]),e._v(\" \"),a(\"p\",[e._v(\"After optimization: After accessing the pre-rendering scheme, the first drawing time node starts within \"),a(\"code\",[e._v(\"1s\")]),e._v(\", and the LCP is within 1.5s.\")]),e._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/9c551d29943c3d76700782374d86c37b.jpg\",alt:\"\"}})]),e._v(\" \"),a(\"p\",[e._v(\"Comparing the optimization between before and after: the first screen drawing speed has been increased by \"),a(\"code\",[e._v(\"8\")]),e._v(\" times, and the maximum content drawing speed has been increased by \"),a(\"code\",[e._v(\"11\")]),e._v(\" times. I wanted to optimize SEO, but I got another way to optimize site performance.\")]),e._v(\" \"),a(\"h3\",{attrs:{id:\"generate-sitemap-sitemap\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#generate-sitemap-sitemap\"}},[e._v(\"#\")]),e._v(\" Generate Sitemap Sitemap\")]),e._v(\" \"),a(\"p\",[e._v(\"After finishing the pre-rendering and realizing the static routing of the site, it is one step closer to the goal of SEO. Putting aside \"),a(\"a\",{attrs:{href:\"https://developers.google.com/search/docs/beginner/seo-starter-guide\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"SEO optimization details\"),a(\"OutboundLink\")],1),e._v(\" for the time being, go straight to the core hinterland of SEO \"),a(\"a\",{attrs:{href:\"https://developers.google.com/search/docs/advanced/sitemaps/overview\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"site map\"),a(\"OutboundLink\")],1),e._v(\".\")]),e._v(\" \"),a(\"p\",[e._v(\"The format of Sitemap and the meaning of each field are briefly explained as follows:\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-xml extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-xml\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token prolog\"}},[e._v('<?xml version=\"1.0\" encoding=\"utf-8\"?>')]),e._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"<\")]),e._v(\"urlset\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[e._v(\"\\x3c!-- Required tag, this is the definition entry of a specific link, each piece of data must be included with <url> and </url>, this is required --\\x3e\")]),e._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"<\")]),e._v(\"url\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[e._v(\"\\x3c!-- Required, URL link address, length must not exceed 256 bytes --\\x3e\")]),e._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"<\")]),e._v(\"loc\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"http://www.yoursite.com/yoursite.html\"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"</\")]),e._v(\"loc\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[e._v(\"\\x3c!-- You don't need to submit the tag, which is used to specify the last update time of the link --\\x3e\")]),e._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"<\")]),e._v(\"lastmod\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"2021-03-06\"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"</\")]),e._v(\"lastmod\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[e._v(\"\\x3c!-- You don't need to submit the tag, use this tag to tell the update frequency of this link --\\x3e\")]),e._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"<\")]),e._v(\"changefreq\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"daily\"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"</\")]),e._v(\"changefreq\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[e._v(\"\\x3c!-- You don’t need to submit the tag, which is used to specify the priority ratio of this link to other links. This value is set between 0.0-1.0 --\\x3e\")]),e._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"<\")]),e._v(\"priority\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"0.8\"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"</\")]),e._v(\"priority\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"</\")]),e._v(\"url\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token tag\"}},[a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\"</\")]),e._v(\"urlset\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[e._v(\">\")])]),e._v(\"\\n\")])])]),a(\"blockquote\",[a(\"p\",[e._v(\"In the above sitemap, the lastmod, changefreq, and priority fields are not so important for SEO, see [how-to-create-a-sitemap](https://ahrefs.com/blog/zh/how-to-create-a -sitemap/)\")])]),e._v(\" \"),a(\"p\",[e._v(\"According to the above structure, I developed the sitemap generation package \"),a(\"a\",{attrs:{href:\"https://github.com/MuYunyun/create-react-doc/tree/main/packages/crd-generator-sitemap\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"crd-generator-sitemap\"),a(\"OutboundLink\")],1),e._v(\", the logic is to splice the pre-rendered routing path into the above format.\")]),e._v(\" \"),a(\"p\",[e._v(\"The user only needs to add the following parameters in the site root directory \"),a(\"code\",[e._v(\"config.yml\")]),e._v(\" to automatically generate \"),a(\"a\",{attrs:{href:\"http://muyunyun.cn/create-react-doc/sitemap.xml\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"sitemap\"),a(\"OutboundLink\")],1),e._v(\" during the automatic release process.\")]),e._v(\" \"),a(\"div\",{staticClass:\"language-bash extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[a(\"code\",[e._v(\"seo:\\n  google: \"),a(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[e._v(\"true\")]),e._v(\"\\n\")])])]),a(\"p\",[e._v(\"Submit the generated sitemap to \"),a(\"a\",{attrs:{href:\"https://search.google.com/search-console/sitemaps\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Google Search Console\"),a(\"OutboundLink\")],1),e._v(\" for a try,\")]),e._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/97c21838a1e3310b3c1259e30ab85f3b.jpg\",alt:\"\"}})]),e._v(\" \"),a(\"p\",[e._v(\"Finally, verify the before and after optimization of Google search \"),a(\"a\",{attrs:{href:\"https://www.google.com/search?q=site%3Amuyunyun.cn%2Fcreate-react-doc&ie=UTF-8\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"site\"),a(\"OutboundLink\")],1),e._v(\".\")]),e._v(\" \"),a(\"p\",[e._v(\"Before optimization: Only one piece of data is found.\")]),e._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/aea3401e5a31587deb8d93a14f32b011.jpg\",alt:\"\"}})]),e._v(\" \"),a(\"p\",[e._v(\"After optimization: Search the location data declared in the site map.\")]),e._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"http://with.muyunyun.cn/6df1536366c7d45e0f6418af03a7d948.jpg\",alt:\"\"}})]),e._v(\" \"),a(\"p\",[e._v(\"So far, the complete process of using SSG to optimize SPA sites to achieve SEO has been fully realized. Follow-up is left to refer to the \"),a(\"a\",{attrs:{href:\"https://developers.google.com/search/docs/beginner/seo-starter-guide\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"Search Engine Optimization (SEO) Beginner's Guide\"),a(\"OutboundLink\")],1),e._v(\" to optimize some SEO details and support more searches The engine is up.\")]),e._v(\" \"),a(\"h3\",{attrs:{id:\"summary\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#summary\"}},[e._v(\"#\")]),e._v(\" Summary\")]),e._v(\" \"),a(\"p\",[e._v(\"This article starts with the realization of SEO on the SPA site, and successively introduces the basic principles of SEO, four practical cases of SEO in the SPA site, combined with \"),a(\"a\",{attrs:{href:\"https://github.com/MuYunyun/create-react-doc\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"create-react-doc\"),a(\"OutboundLink\")],1),e._v(\" SPA framework for complete SEO practice.\")]),e._v(\" \"),a(\"p\",[e._v(\"If this article is helpful to you, welcome \"),a(\"a\",{attrs:{href:\"https://github.com/MuYunyun/create-react-doc\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"star\"),a(\"OutboundLink\")],1),e._v(\", \"),a(\"a\",{attrs:{href:\"https://github.com/MuYunyun/create-react-doc/issues/new\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"feedback\"),a(\"OutboundLink\")],1),e._v(\".\")]),e._v(\" \"),a(\"h3\",{attrs:{id:\"related-links\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#related-links\"}},[e._v(\"#\")]),e._v(\" Related Links\")]),e._v(\" \"),a(\"ul\",[a(\"li\",[a(\"a\",{attrs:{href:\"https://github.com/MuYunyun/create-react-doc\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"create-react-doc\"),a(\"OutboundLink\")],1)]),e._v(\" \"),a(\"li\",[e._v(\"[why-is-my-website-not-showing-up-on-google/](https://ahrefs.com/blog/zh/why-is-my-website-not-showing-up-on- google/)\")]),e._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"https://medium.com/frontend-digest/a-technical-guide-to-seo-with-gatsby-js-e88a7dac80f0\",target:\"_blank\",rel:\"noopener noreferrer\"}},[e._v(\"A Technical Guide to SEO With Gatsby.js\"),a(\"OutboundLink\")],1)])])])}),[],!1,null,null,null);t.default=s.exports}}]);","extractedComments":[]}