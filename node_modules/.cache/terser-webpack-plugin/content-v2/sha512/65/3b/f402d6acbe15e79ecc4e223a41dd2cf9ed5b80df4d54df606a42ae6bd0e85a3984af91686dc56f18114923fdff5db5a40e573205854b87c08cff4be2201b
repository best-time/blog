{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{616:function(t,a,n){\"use strict\";n.r(a);var s=n(12),e=Object(s.a)({},(function(){var t=this,a=t.$createElement,n=t._self._c||a;return n(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[n(\"h2\",{attrs:{id:\"常见问题\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#常见问题\"}},[t._v(\"#\")]),t._v(\" 常见问题\")]),t._v(\" \"),n(\"h3\",{attrs:{id:\"如何检测iframe是否能打开-如果打不开则跳到404页面\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#如何检测iframe是否能打开-如果打不开则跳到404页面\"}},[t._v(\"#\")]),t._v(\" 如何检测iframe是否能打开，如果打不开则跳到404页面\")]),t._v(\" \"),n(\"div\",{staticClass:\"language-javascript extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[n(\"code\",[t._v(\"首先我们知道 iframe 只有 onload 事件，没有 onerror 事件，\\n无论 iframe 能否正常加载都会正常触发 onload 事件。\\n\\n但是由于场景不同，最终所能使用的方案也不同。\\n\\n非跨域\\n如果不跨域，那问题就很好解决了，有以下几种方案可以使用：\\n\\n使用 ajax 发送一个 head 请求，看状态是否返回 \"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"200\")]),t._v(\" （之所以发送 head 请求，是轻量级，响应速度快）。\\n检测 iframe 元素特征，在 iframe onload 触发后，检测 html 元素，例如有没有 title，内容是否为空等。\\n\\n跨域\\n如果跨域的情况，要看你是否能控制跨域服务器。\\n\\n能控制跨域服务器\\n可以使用 jsonp 或 \"),n(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[t._v(\"CORS\")]),t._v(\"，允许客户端发送跨域 head 请求，来获取是否状态正常\\n\\n如果不能跨域的情况，见下面的通用方案\\n\\n\\n通用方案\\n如果要兼容跨域\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"非跨域情况，可以使用下面几种通用方案：\\n\\n使用定时器检测，如果onload触发时间晚于预设阈值，判定为无法加载。\\n使用link标签来测试url能否访问。\\n下面重点来讲下方案\"),n(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"2\")]),t._v(\"。\\n\\nlink标签来测试url\\n我们为什么要使用link标签？\\n\\n支持跨域的检测标签有如下几个：\\n\\nscript\\nimg\\nlink\\nvideo\\naudio\\n支持 onload 和 onerror 的只有 script 、link、img\\n\\n之所以不用 img、script的原因是：\\n\\nimg会检测格式，如果不是图片类型，也会触发onerror。\\nscript可能会有安全问题（\"),n(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[t._v(\"XSS\")]),t._v(\"等）。\\n检测 demo 代码如下\\n\\n为了兼容使用了es5语法。\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),t._v(\"html\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),t._v(\"body\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),t._v(\"iframe id\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"iframe\"')]),t._v(\" onload\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"frameLoad()\"')]),t._v(\" width\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"100%\"')]),t._v(\" height\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"100%\"')]),t._v(\" src\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"https://baidu1.com\"')]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"iframe\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),t._v(\"script\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"frameLoad\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      console\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"log\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'frame load'\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"accessTest\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"var\")]),t._v(\" link \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" document\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"createElement\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'link'\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n      link\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"rel \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"stylesheet\"')]),t._v(\"\\n      link\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"type \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"text/css\"')]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 这里设置需要检测的url\")]),t._v(\"\\n      link\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"href \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"https://baidu1.com\"')]),t._v(\"\\n      link\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function-variable function\"}},[t._v(\"onload\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        console\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"log\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'accessTest success'\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n      link\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function-variable function\"}},[t._v(\"onerror\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n        console\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"log\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'accessTest fail'\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n      \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n      document\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"body\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"appendChild\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"link\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"accessTest\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"script\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"body\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\"html\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n\")])])]),n(\"h3\",{attrs:{id:\"a标签的download属性下载文件会有跨域问题吗-如何解决\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#a标签的download属性下载文件会有跨域问题吗-如何解决\"}},[t._v(\"#\")]),t._v(\" a标签的download属性下载文件会有跨域问题吗？如何解决？\")]),t._v(\" \"),n(\"div\",{staticClass:\"language-javascript extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[n(\"code\",[t._v(\"a标签的 download 属性只对同源文件有效，\\n所以我们这里先把图片 url 转为 blob 格式，然后再下载\\n\\n\"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"/**\\n   ** 将图片 url 转换为 blob 格式\\n   ** @param httpUrl: 图片链接，如 https://cdn.aaa.com/bbb.jpg\\n   */\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"private\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"async\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"urlToBlob\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"httpUrl\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"const\")]),t._v(\" res\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" Response \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"await\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"fetch\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"httpUrl\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"const\")]),t._v(\" blob\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\":\")]),t._v(\" Blob \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"await\")]),t._v(\" res\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"blob\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"const\")]),t._v(\" blobUrl \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[t._v(\"URL\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"createObjectURL\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"blob\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" blobUrl\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"/**\\n   ** 下载图片到本地\\n   ** @param blobUrl： blob 格式的图片文件\\n   ** @param name: 图片名称\\n   */\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"private\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"download\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token parameter\"}},[t._v(\"blobUrl\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" name\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 创建虚拟a标签\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"const\")]),t._v(\" eleLink \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" document\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"createElement\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'a'\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    eleLink\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"download \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" name\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    eleLink\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"style\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"display \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'none'\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    eleLink\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"href \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" blobUrl\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 触发点击\")]),t._v(\"\\n    document\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"body\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"appendChild\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"eleLink\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    eleLink\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"click\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"// 然后移除\")]),t._v(\"\\n    document\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"body\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"removeChild\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"eleLink\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n    \"),n(\"span\",{pre:!0,attrs:{class:\"token constant\"}},[t._v(\"URL\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"revokeObjectURL\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"blobUrl\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n  \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),t._v(\"\\n\")])])]),n(\"h3\",{attrs:{id:\"文章阅读的进度条\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#文章阅读的进度条\"}},[t._v(\"#\")]),t._v(\" 文章阅读的进度条\")]),t._v(\" \"),n(\"div\",{staticClass:\"language-javascript extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[n(\"code\",[t._v(\"通过document\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"documentElement\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"scrollTop获取页面滚过高度，\\n通过document\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"documentElement\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"scrollHeight获取页面总高度，\\n通过document\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"documentElement\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"clientHeight获取当前内容高度。\\n通过给window对象设置scroll事件，触发回调函数：将进度条dom style属性中的width或height动态修改为（页面滚过高度 \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"+\")]),t._v(\" 当前内容高度）\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"/\")]),t._v(\" 页面总高度\\n\")])])]),n(\"h3\",{attrs:{id:\"禁用页面中的右键、打印、另存为、复制等功能\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#禁用页面中的右键、打印、另存为、复制等功能\"}},[t._v(\"#\")]),t._v(\" 禁用页面中的右键、打印、另存为、复制等功能\")]),t._v(\" \"),n(\"div\",{staticClass:\"language-javascript extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-javascript\"}},[n(\"code\",[n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"<\")]),t._v(\"body oncontextmenu\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"self\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"event\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"returnValue\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"false\")]),t._v(\" onselectstart\"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),n(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"return false\"')]),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\">\")]),t._v(\"\\n  禁止打印页面\\ndocument\"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),n(\"span\",{pre:!0,attrs:{class:\"token function-variable function\"}},[t._v(\"onbeforeprint\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"function\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"{\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"false\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\" \"),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"}\")]),n(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\";\")]),t._v(\"\\n\")])])]),n(\"h3\",{attrs:{id:\"webp与jpg、png比较-它有什么优劣势\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#webp与jpg、png比较-它有什么优劣势\"}},[t._v(\"#\")]),t._v(\" webp与jpg、png比较，它有什么优劣势？\")]),t._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v('优势\\n更优的图像数据压缩算法 带来更小的图片体积\\n肉眼识别无差异的图片质量\\n支持有损和无损压缩\\n支持动画 透明\\n色彩丰富 24-bit颜色数\\n劣势\\n存在兼容性问题\\n选择\\n​ 当 图片较少 体积不大 且存在兼容性问题时,兼容性方法处理起来较为复杂 可以选择传统格式\\n\\n​ 当图片较多 且不存在兼容性问题或者兼容性方法处理起来较为简单时 便使用webp格式\\n\\n兼容性处理\\n1.通过picture标签进行选择判断\\n<picture>\\n    <source srcset=\"img/pic.webp\" type=\"image/webp\">\\n    <source srcset=\"img/pic.jpg\" type=\"image/jpeg\">\\n    <img src=\"img/pic.jpg\">\\n</picture>\\n该种方法要求在每个要请求webp图片的标签下都要通过picture标签来进行兼容性处理，\\n同时注意该标签在IE的兼容性并不是很好，不过已经比webp的兼容性好一些。\\n\\n2.通过服务端判断请求头中的Accept的值判断是否支持webp\\n通过HTTP request header中是否存在Accept: image/webp来判断，\\n这种方法的缺点在于：很多时候我们的图片等静态资源都会放到CDN服务器上，在这个层面加上判断webp的逻辑会更麻烦一些\\n\\n3.由浏览器端判断是否支持WebP格式\\nif(document.createElement(\\'canvas\\').toDataURL(\\'image/webp\\').indexOf(\\'data:image/webp\\') == 0){\\n   //  该浏览器支持WebP格式的图片\\n }\\n该种方法的原理为：\\n\\nHTMLCanvasElement.toDataURL() 方法返回一个包含图片展示的 data URI 。可以使用 type 参数其类型，默认为 PNG 格式。\\n\\n1.如果画布的高度或宽度是0，那么会返回字符串“data:,”。\\n\\n2.如果传入的类型非“image/png”，但是返回的值以“data:image/png”开头，说明该传入的类型是不支持的。\\n\\n3.Chrome支持“image/webp”类型。\\n')])])]),n(\"h3\",{attrs:{id:\"html5的新特性如下\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#html5的新特性如下\"}},[t._v(\"#\")]),t._v(\" HTML5的新特性如下：\")]),t._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"拖放（ Drag and drop）APIl\\n语义化更好的内容标签（ header、nav、 footer、 aside、 article、 section）\\n音频、视频（ audio、 video）API\\n画布（ Canvas）API\\n地理（ Geolocation）APl\\n本地离线存储（ localStorage），即长期存储数据，浏览器关闭后数据不丢失。\\n会话存储（ sessionStorage），即数据在浏览器关闭后自动删除\\n表单控件包括 calendar、date、time、 email、url、 search。\\n新的技术包括 webwork、 websocket、 Geolocation\\n\\n移除的元素如下：\\n纯表现的元素，包括 basefont,big、 center、font、s, strike,t、u\\n\\n对可用性产生负面影响的元素，包括 frame、 frameset、 Noframes\\n\")])])]),n(\"h3\",{attrs:{id:\"请你说一下-web-worker和-websocket的作用。\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#请你说一下-web-worker和-websocket的作用。\"}},[t._v(\"#\")]),t._v(\" 请你说一下 Web Worker和 WebSocket的作用。\")]),t._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"Web Worker的作用如下：\\n（1）通过 worker= new Worker（url）加载一个 JavaScript文件，创建一个 Worker，同时返回一个 Worker实例\\n（2）用 worker.postMessage（data）向 Worker发送数据\\n（3）绑定 worker.onmessage接收 Worker发送过来的数据\\n（4）可以使用 worker.terminate()终止一个 Worker的执行。\\n\\nWebSocket的作用如下。\\n\\n它是Web应用程序的传输协议，提供了双向的、按序到达的数据流。\\n它是HTML5新増的协议， WebSocket的连接是持久的，它在客户端和服务器之间保持双工连接，服务器的更新可以及时推送到客户端，而不需要客户端以一定的时间间隔去轮询。\\n\")])])]),n(\"h3\",{attrs:{id:\"cookie的特点。\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#cookie的特点。\"}},[t._v(\"#\")]),t._v(\" cookie的特点。\")]),t._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"cookie虽然为持久保存客户端数据提供了方便，分担了服务器存储的负担，但是有以下局限性。\\n（1）每个特定的域名下最多生成20个 cookie。\\n（2）IE6或更低版本最多有20个 cookie。\\n（3）IE7和之后的版本最多可以有50个 cookie。\\n（4） Firefox最多可以有50个 cookie。\\n（5） Chrome和 Safari没有做硬性限制。\\n\\nIE和 Opera会清理近期最少使用的 cookie, Firefox会随机清理 cookie。\\ncookie最大为4096字节，为了兼容性，一般不能超过4095字节。\\n\\nIE提供了一种存储方式，可以让用户数据持久化，叫作 userdata，\\n从IE5.0就开始支持此功能。每块数据最多128KB，每个域名下最多1MB。这个持久化数据放在缓存中，如果缓存没有被清理，就会一直存在。\\n\\n优点如下：\\n\\n（1）通过良好的编程，控制保存在 cookie中的 session对象的大小。\\n（2）通过加密和安全传输技术（SSL），降低 cookie被破解的可能性。\\n（3）只在 cookie中存放不敏感数据，即使被盗也不会有重大损失。\\n（4）控制 cookie的生命周期，使之不会永远有效。数据偷盗者很可能得到一个过期的 cookie。\\n\\n缺点如下：\\n（1）“ cookie”的数量和长度有限制。每个 domain最多只能有20条 cookie，每个cookie的长度不能超过4KB，否则会被截掉。\\n（2）安全性问题。如果 cookie被别人拦截了，就可以取得所有的 session信息。即使加密也于事无补，因为拦截者并不需要知道 cookie的意义，他只要原样转发 cookie就可以达到目的。\\n（3）有些状态不可能保存在客户端。例如，为了防止重复提交表单，我们需要在服务器端保存一个计数器。如果把这个计数器保存在客户端，那么它起不到任何作用\\n\")])])]),n(\"h3\",{attrs:{id:\"localstorage和-cookie的区别是什么\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#localstorage和-cookie的区别是什么\"}},[t._v(\"#\")]),t._v(\" localStorage和 cookie的区别是什么？\")]),t._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"localStorage的概念和cookie相似，区别是 localStorage是为了更大容量的存储设计的。\\ncookie的大小是受限的，并且每次请求一个新页面时， cookie都会被发送过去，这样无形中浪费了带宽。\\ncookie还需要指定作用域，不可以跨域调用。\\n\\nlocalStorage拥有 setlten, getItem、 removeltem、 clear等方法，\\ncookie则需要前端开发者自己封装 setCookie和 get Cookie。\\n但 cookie也是不可或缺的，因为 cookie的作用是与服务器进行交互，并且还是HTP规范的一部分，\\n而 localStorage仅因为是为了在本地“存储”数据而已，无法跨浏览器使用。\\n\")])])]),n(\"h3\",{attrs:{id:\"cookie和-session的区别是什么\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#cookie和-session的区别是什么\"}},[t._v(\"#\")]),t._v(\" cookie和 session的区别是什么？\")]),t._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"区别如下：\\n（1） cookie数据存放在客户的浏览器上， session数据存放在服务器上。\\n（2） cookie不是很安全，别人可以分析存放在本地的 cookie并进行 cookie欺骗。考虑到安全问题应当使用 session。\\n（3） session会在一定时间内保存在服务器上。当访问增多时，会占用较多服务器的资源。为了减轻服务器的负担，应当使用 cookie。\\n（4）单个 cookie保存的数据不能超过4KB，很多浏览器都限制一个站点最多保存20个 cookie。\\n\\n所以个人建议可以将登录信息等重要信息存放在 session中，其他信息（如果需要保留）可以存放在 cookie中。\\n\")])])]),n(\"h3\",{attrs:{id:\"canvas和svg的区别是什么\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#canvas和svg的区别是什么\"}},[t._v(\"#\")]),t._v(\" Canvas和SvG的区别是什么？\")]),t._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"两者的区别如下：\\n（1）一旦 Canvas绘制完成将不能访问像素或操作它；任何使用SVG绘制的形状都能被记忆和操作，可以被浏览器再次显示。\\n（2） Canvas对绘制动画和游戏非常有利；SVG对创建图形（如CAD）非常有利。\\n（3）因为不需要记住以后事情，所以 Canvas运行更快；因为为了之后的操作，SVG需要记录坐标，所以运行比较缓慢。\\n（4）在 Canvas中不能为绘制对象绑定相关事件；在SVG中可以为绘制对象绑定相关事件。\\n（5） Canvas绘制出的是位图，因此与分辨率有关；SvG绘制出的是矢量图，因此与分辨率无关。\\n\")])])]),n(\"h3\",{attrs:{id:\"canvas和html5中的svg画一个矩形\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#canvas和html5中的svg画一个矩形\"}},[t._v(\"#\")]),t._v(\" Canvas和HTML5中的SVG画一个矩形\")]),t._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v('\\n<svg xmlns=http://www.w3.org/2000/svg  version=\"1.1\">\\n<rect style=\"fill:rgb（255,100，0）；\"height=200\"  width=\"400\"></rect>\\n</svg>\\n\\n\\n<canvas id=\"myCanvas\" width=500\" height=\"500\"></canvas>\\nvar canvas=document.getElementById（\\'mycanvas\\'）；\\nvar ctx= canvas.getContext（\\'2d\\'）；\\n ctx.rect（100,100,300,200）；\\nctx fillstyle = \\'pink \\'\\nctx. fill()\\n')])])]),n(\"h3\",{attrs:{id:\"manifest\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#manifest\"}},[t._v(\"#\")]),t._v(\" manifest\")]),t._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v('文件\\n\\nCACHE MANTEEST\\n# version 1.0    应用缓存通过变更“#”标签后的版本号来刷新\\n/demo. css\\n/demo. js\\n/demo.png\\n所有 manifest文件都以” CACHE MANIFEST\"语句开始。\\n#（散列标签）有助于提供缓存文件的版本。\\nmanifest文件的内容类型应是\"text/ cache- manifest”。\\n\\nFALLBACK：\\n/home//404. html\\n\\nNETWORK\\nlogin. php\\n\\n使用\\n<html manifest=\"icketang. appcache\">\\n')])])]),n(\"h3\",{attrs:{id:\"html-页面声明周期\"}},[n(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#html-页面声明周期\"}},[t._v(\"#\")]),t._v(\" html 页面声明周期\")]),t._v(\" \"),n(\"p\",[t._v(\"DOMContentLoaded —— 浏览器已经完全加载了 HTML，DOM 树已经构建完毕，但是像是 \"),n(\"img\"),t._v(\" 和样式表等外部资源可能并没有下载完毕。\")]),t._v(\" \"),n(\"p\",[t._v(\"load —— 浏览器已经加载了所有的资源（图像，样式表等）。\")]),t._v(\" \"),n(\"p\",[t._v(\"beforeunload —— 当用户即将离开当前页面（刷新或关闭）时触发。正要去服务器读取新的页面时调用，此时还没开始读取；\")]),t._v(\" \"),n(\"p\",[t._v(\"unload —— 在用户离开页面后触发。从服务器上读到了需要加载的新的页面，在即将替换掉当前页面时调用。\")]),t._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"\\ndocument.addEventListener(\\\"DOMContentLoaded\\\", () => {});\\n\\n\\nwindow.addEventListener('load', function(e) {...});\\nwindow.onload = function(e) { ... };\\n\\n\\n// 推荐使用\\nwindow.addEventListener('beforeunload', (event) => {\\n  // Cancel the event as stated by the standard.\\n  event.preventDefault();\\n  // Chrome requires returnValue to be set.\\n  event.returnValue = '关闭提示';\\n});\\n\\n\\nwindow.onbeforeunload = function (e) {\\n  e = e || window.event;\\n  // 兼容IE8和Firefox 4之前的版本\\n  if (e) {\\n    e.returnValue = '关闭提示';\\n  }\\n  // Chrome, Safari, Firefox 4+, Opera 12+ , IE 9+\\n  return '关闭提示';\\n};\\n\\n\\n// 推荐使用\\nwindow.addEventListener(\\\"unload\\\", function(event) { ... });\\n\\nwindow.onunload = function(event) { ... };\\n\")])])]),n(\"p\",[t._v(\"readyState\\ndocument.readyState 表示页面的加载状态，有三个值：\")]),t._v(\" \"),n(\"p\",[t._v(\"loading 加载 —— document仍在加载。\")]),t._v(\" \"),n(\"p\",[t._v(\"interactive 互动 —— 文档已经完成加载，文档已被解析，但是诸如图像，样式表和框架之类的子资源仍在加载。\")]),t._v(\" \"),n(\"p\",[t._v(\"complete —— 文档和所有子资源已完成加载。 load 事件即将被触发。\")]),t._v(\" \"),n(\"div\",{staticClass:\"language- extra-class\"},[n(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[n(\"code\",[t._v(\"document.addEventListener('readystatechange', () => {\\n  console.log(document.readyState);\\n});\\n\")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);","extractedComments":[]}